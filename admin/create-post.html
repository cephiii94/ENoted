<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ENoted - Buat Postingan</title>
    <!-- Tambahkan stylesheet Quill.js -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link rel="stylesheet" href="/admin/Style.css"> 
    <link rel="icon" type="image/png" href="/img/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#4a90e2">
</head>

<body>
    <div class="generator-container">
        <h1>ENoted - New Post</h1>
        
        <form id="createPostForm">
            <div class="form-group">
                <label for="postTitle">Judul Postingan:</label>
                <input type="text" id="postTitle" name="postTitle" required placeholder="Contoh: Membuat AI Sendiri" aria-label="Judul Postingan">
            </div>

            <div class="form-group">
                <label for="postCategory">Kategori:</label>
                <input type="text" id="postCategory" name="postCategory" required placeholder="Contoh: Belajar Koding" aria-label="Kategori">
            </div>

            <div class="form-group">
                <label for="postContent">Isi Konten:</label>
                <!-- Container untuk Quill.js. Ini akan menggantikan textarea -->
                <div id="editor-container"></div>
            </div>

            <div class="form-group">
                <label for="postDescription">Deskripsi Singkat (untuk SEO):</label>
                <textarea id="postDescription" name="postDescription" required rows="3" placeholder="Deskripsi yang akan muncul di hasil pencarian" aria-label="Deskripsi Singkat"></textarea>
            </div>

            <div class="form-group">
                <label for="postKeywords">Kata Kunci (pisahkan dengan koma):</label>
                <input type="text" id="postKeywords" name="postKeywords" required placeholder="Contoh: tips & trik, manfaat, teknologi" aria-label="Kata Kunci">
            </div>

            <div class="form-actions">
                <button type="submit" class="btn-generate">Terbitkan Postingan</button>
                <button type="reset" class="btn-reset">Reset Form</button>
            </div>
        </form>
        <div id="responseMessage" class="response-message"></div>
    </div>
    
    <!-- Tambahkan skrip Quill.js di akhir body -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script type="module" src="/js/firestore.js"></script>
    <script type="module" src="/js/admin/create-post-logic.js"></script>
    <script>
        // Inisialisasi Quill.js pada container
        const quill = new Quill('#editor-container', {
            theme: 'snow'
        });

        // Tangkap form submit
        const form = document.getElementById('createPostForm');
        form.addEventListener('submit', function(event) {
            event.preventDefault(); // Mencegah form dari reload halaman

            // Dapatkan konten HTML dari Quill.js
            const postContent = quill.root.innerHTML;

            // Log konten untuk verifikasi
            console.log('Konten Postingan (HTML):', postContent);

            // TODO: Sekarang Anda bisa menggunakan variabel `postContent`
            // untuk mengirim data ke Firestore atau backend Anda.
            // Contoh:
            // const postData = {
            //     title: document.getElementById('postTitle').value,
            //     category: document.getElementById('postCategory').value,
            //     content: postContent, // Gunakan konten dari Quill
            //     description: document.getElementById('postDescription').value,
            //     keywords: document.getElementById('postKeywords').value
            // };
            // sendToFirestore(postData);
        });
    </script>
</body>
</html>
